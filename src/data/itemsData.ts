
import { ItemId } from './gameConfig';

// ã‚¢ã‚¤ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã®å‹å®šç¾©
export interface ItemData {
  id: ItemId;
  name: string;
  description: string;
  icon: string;
  stackable: boolean;
  maxStack: number;
  usable: boolean;
  equipable: boolean;
  slot?: 'weapon' | 'shield' | 'item';
}

// ã‚¢ã‚¤ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
export const ITEMS: Record<ItemId, ItemData> = {
  [ItemId.SWORD]: {
    id: ItemId.SWORD,
    name: 'å‹‡è€…ã®å‰£',
    description: 'ä¼èª¬ã®å‹‡è€…ãŒä½¿ã£ãŸå‰£',
    icon: 'âš”ï¸',
    stackable: false,
    maxStack: 1,
    usable: true,
    equipable: true,
    slot: 'weapon',
  },
  [ItemId.SHIELD]: {
    id: ItemId.SHIELD,
    name: 'å‹‡è€…ã®ç›¾',
    description: 'æ•µã®æ”»æ’ƒã‚’é˜²ãé ‘ä¸ˆãªç›¾',
    icon: 'ğŸ›¡ï¸',
    stackable: false,
    maxStack: 1,
    usable: true,
    equipable: true,
    slot: 'shield',
  },
  [ItemId.BOW]: {
    id: ItemId.BOW,
    name: 'å¼“',
    description: 'é ãã®æ•µã‚’æ”»æ’ƒã§ãã‚‹',
    icon: 'ğŸ¹',
    stackable: false,
    maxStack: 1,
    usable: true,
    equipable: true,
    slot: 'item',
  },
  [ItemId.BOMB]: {
    id: ItemId.BOMB,
    name: 'çˆ†å¼¾',
    description: 'å£ã‚„æ•µã‚’å¹ãé£›ã°ã™',
    icon: 'ğŸ’£',
    stackable: true,
    maxStack: 30,
    usable: true,
    equipable: false,
  },
  [ItemId.HOOKSHOT]: {
    id: ItemId.HOOKSHOT,
    name: 'ãƒ•ãƒƒã‚¯ã‚·ãƒ§ãƒƒãƒˆ',
    description: 'é ãã®å ´æ‰€ã«ç§»å‹•ã§ãã‚‹',
    icon: 'ğŸª',
    stackable: false,
    maxStack: 1,
    usable: true,
    equipable: true,
    slot: 'item',
  },
  [ItemId.BOOMERANG]: {
    id: ItemId.BOOMERANG,
    name: 'ãƒ–ãƒ¼ãƒ¡ãƒ©ãƒ³',
    description: 'æ•µã‚’æ°—çµ¶ã•ã›ã‚‹',
    icon: 'ğŸªƒ',
    stackable: false,
    maxStack: 1,
    usable: true,
    equipable: true,
    slot: 'item',
  },
  [ItemId.SLINGSHOT]: {
    id: ItemId.SLINGSHOT,
    name: 'ãƒ‘ãƒãƒ³ã‚³',
    description: 'å°ã•ãªçŸ³ã‚’é£›ã°ã™',
    icon: 'ğŸ¯',
    stackable: false,
    maxStack: 1,
    usable: true,
    equipable: true,
    slot: 'item',
  },
  [ItemId.HEART_CONTAINER]: {
    id: ItemId.HEART_CONTAINER,
    name: 'ãƒãƒ¼ãƒˆã®å™¨',
    description: 'æœ€å¤§ä½“åŠ›ãŒå¢—ãˆã‚‹',
    icon: 'â¤ï¸',
    stackable: false,
    maxStack: 1,
    usable: true,
    equipable: false,
  },
  [ItemId.HEART_PIECE]: {
    id: ItemId.HEART_PIECE,
    name: 'ãƒãƒ¼ãƒˆã®ã‹ã‘ã‚‰',
    description: '4ã¤é›†ã‚ã‚‹ã¨ãƒãƒ¼ãƒˆã®å™¨ã«ãªã‚‹',
    icon: 'ğŸ’—',
    stackable: true,
    maxStack: 4,
    usable: false,
    equipable: false,
  },
  [ItemId.MAGIC_JAR]: {
    id: ItemId.MAGIC_JAR,
    name: 'é­”æ³•ã®å£º',
    description: 'é­”åŠ›ã‚’å›å¾©ã™ã‚‹',
    icon: 'ğŸ§ª',
    stackable: true,
    maxStack: 4,
    usable: true,
    equipable: false,
  },
  [ItemId.KEY]: {
    id: ItemId.KEY,
    name: 'å°ã•ãªéµ',
    description: 'æ‰‰ã‚’é–‹ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹',
    icon: 'ğŸ”‘',
    stackable: true,
    maxStack: 99,
    usable: false,
    equipable: false,
  },
  [ItemId.BOSS_KEY]: {
    id: ItemId.BOSS_KEY,
    name: 'ãƒœã‚¹ã®éµ',
    description: 'ãƒœã‚¹éƒ¨å±‹ã®æ‰‰ã‚’é–‹ã‘ã‚‹',
    icon: 'ğŸ—ï¸',
    stackable: false,
    maxStack: 1,
    usable: false,
    equipable: false,
  },
  [ItemId.MAGIC_ROD]: {
    id: ItemId.MAGIC_ROD,
    name: 'é­”æ³•ã®ãƒ­ãƒƒãƒ‰',
    description: 'ç‚ã‚’æ”¾ã¤é­”æ³•ã®æ–',
    icon: 'ğŸ”¥',
    stackable: false,
    maxStack: 1,
    usable: true,
    equipable: true,
    slot: 'item',
  },
  [ItemId.LANTERN]: {
    id: ItemId.LANTERN,
    name: 'ãƒ©ãƒ³ã‚¿ãƒ³',
    description: 'æš—ã„å ´æ‰€ã‚’ç…§ã‚‰ã™',
    icon: 'ğŸ®',
    stackable: false,
    maxStack: 1,
    usable: true,
    equipable: true,
    slot: 'item',
  },
  [ItemId.FISHING_ROD]: {
    id: ItemId.FISHING_ROD,
    name: 'é‡£ã‚Šç«¿',
    description: 'é­šã‚’é‡£ã‚‹ã“ã¨ãŒã§ãã‚‹',
    icon: 'ğŸ£',
    stackable: false,
    maxStack: 1,
    usable: true,
    equipable: true,
    slot: 'item',
  },
  [ItemId.SHOVEL]: {
    id: ItemId.SHOVEL,
    name: 'ã‚¹ã‚³ãƒƒãƒ—',
    description: 'åœ°é¢ã‚’æ˜ã‚‹ã“ã¨ãŒã§ãã‚‹',
    icon: 'ğŸª“',
    stackable: false,
    maxStack: 1,
    usable: true,
    equipable: true,
    slot: 'item',
  },
  [ItemId.BUG_NET]: {
    id: ItemId.BUG_NET,
    name: 'è™«å–ã‚Šç¶²',
    description: 'è™«ã‚„å¦–ç²¾ã‚’æ•ã¾ãˆã‚‹',
    icon: 'ğŸªº',
    stackable: false,
    maxStack: 1,
    usable: true,
    equipable: true,
    slot: 'item',
  },
  [ItemId.RED_POTION]: {
    id: ItemId.RED_POTION,
    name: 'èµ¤ã„ãƒãƒ¼ã‚·ãƒ§ãƒ³',
    description: 'ä½“åŠ›ã‚’å®Œå…¨å›å¾©ã™ã‚‹',
    icon: 'ğŸ§ª',
    stackable: true,
    maxStack: 4,
    usable: true,
    equipable: false,
  },
  [ItemId.GREEN_POTION]: {
    id: ItemId.GREEN_POTION,
    name: 'ç·‘ã®ãƒãƒ¼ã‚·ãƒ§ãƒ³',
    description: 'é­”åŠ›ã‚’å®Œå…¨å›å¾©ã™ã‚‹',
    icon: 'ğŸ§ª',
    stackable: true,
    maxStack: 4,
    usable: true,
    equipable: false,
  },
  [ItemId.BLUE_POTION]: {
    id: ItemId.BLUE_POTION,
    name: 'é’ã„ãƒãƒ¼ã‚·ãƒ§ãƒ³',
    description: 'ä½“åŠ›ã¨é­”åŠ›ã‚’å®Œå…¨å›å¾©ã™ã‚‹',
    icon: 'ğŸ§ª',
    stackable: true,
    maxStack: 4,
    usable: true,
    equipable: false,
  },
  [ItemId.FAIRY]: {
    id: ItemId.FAIRY,
    name: 'å¦–ç²¾',
    description: 'æ­»äº¡æ™‚ã«è‡ªå‹•å¾©æ´»ã™ã‚‹',
    icon: 'ğŸ§š',
    stackable: true,
    maxStack: 4,
    usable: false,
    equipable: false,
  },
  [ItemId.ARROW]: {
    id: ItemId.ARROW,
    name: 'çŸ¢',
    description: 'å¼“ã§ä½¿ç”¨ã™ã‚‹çŸ¢',
    icon: 'â¡ï¸',
    stackable: true,
    maxStack: 99,
    usable: false,
    equipable: false,
  },
  [ItemId.FIRE_ARROW]: {
    id: ItemId.FIRE_ARROW,
    name: 'ç‚ã®çŸ¢',
    description: 'æ•µã‚’ç‡ƒã‚„ã™ç‰¹æ®ŠãªçŸ¢',
    icon: 'ğŸ”¥',
    stackable: true,
    maxStack: 30,
    usable: true,
    equipable: false,
  },
  [ItemId.ICE_ARROW]: {
    id: ItemId.ICE_ARROW,
    name: 'æ°·ã®çŸ¢',
    description: 'æ•µã‚’å‡ã‚‰ã›ã‚‹ç‰¹æ®ŠãªçŸ¢',
    icon: 'â„ï¸',
    stackable: true,
    maxStack: 30,
    usable: true,
    equipable: false,
  },
  [ItemId.LIGHT_ARROW]: {
    id: ItemId.LIGHT_ARROW,
    name: 'å…‰ã®çŸ¢',
    description: 'é—˜ã‚’æ‰•ã†è–ãªã‚‹çŸ¢',
    icon: 'ğŸ’¡',
    stackable: true,
    maxStack: 30,
    usable: true,
    equipable: false,
  },
  [ItemId.DUNGEON_MAP]: {
    id: ItemId.DUNGEON_MAP,
    name: 'ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³ãƒãƒƒãƒ—',
    description: 'ãƒ•ãƒ­ã‚¢å…¨ä½“ã‚’è¡¨ç¤ºã™ã‚‹',
    icon: 'ğŸ—ºï¸',
    stackable: false,
    maxStack: 1,
    usable: true,
    equipable: false,
  },
  [ItemId.COMPASS]: {
    id: ItemId.COMPASS,
    name: 'ã‚³ãƒ³ãƒ‘ã‚¹',
    description: 'å®ç®±ã¨ãƒœã‚¹ã®ä½ç½®ã‚’è¡¨ç¤º',
    icon: 'ğŸ§­',
    stackable: false,
    maxStack: 1,
    usable: true,
    equipable: false,
  },
  [ItemId.DEKU_NUT]: {
    id: ItemId.DEKU_NUT,
    name: 'ãƒ‡ã‚¯ã®å®Ÿ',
    description: 'æŠ•ã’ã‚‹ã¨æ•µãŒã‚¹ã‚¿ãƒ³ã™ã‚‹',
    icon: 'ğŸ¥œ',
    stackable: true,
    maxStack: 40,
    usable: true,
    equipable: false,
  },
  [ItemId.DEKU_STICK]: {
    id: ItemId.DEKU_STICK,
    name: 'ãƒ‡ã‚¯ã®æ£’',
    description: 'ç«ã‚’ã¤ã‘ã¦é‹ã¹ã‚‹',
    icon: 'ğŸªµ',
    stackable: true,
    maxStack: 30,
    usable: true,
    equipable: false,
  },
  [ItemId.RUPEE_GREEN]: {
    id: ItemId.RUPEE_GREEN,
    name: 'ç·‘ãƒ«ãƒ”ãƒ¼',
    description: '1ãƒ«ãƒ”ãƒ¼ã®ä¾¡å€¤ãŒã‚ã‚‹',
    icon: 'ğŸ’š',
    stackable: true,
    maxStack: 999,
    usable: false,
    equipable: false,
  },
  [ItemId.RUPEE_BLUE]: {
    id: ItemId.RUPEE_BLUE,
    name: 'é’ãƒ«ãƒ”ãƒ¼',
    description: '5ãƒ«ãƒ”ãƒ¼ã®ä¾¡å€¤ãŒã‚ã‚‹',
    icon: 'ğŸ’™',
    stackable: true,
    maxStack: 999,
    usable: false,
    equipable: false,
  },
  [ItemId.RUPEE_RED]: {
    id: ItemId.RUPEE_RED,
    name: 'èµ¤ãƒ«ãƒ”ãƒ¼',
    description: '20ãƒ«ãƒ”ãƒ¼ã®ä¾¡å€¤ãŒã‚ã‚‹',
    icon: 'â¤ï¸',
    stackable: true,
    maxStack: 999,
    usable: false,
    equipable: false,
  },
  [ItemId.RUPEE_PURPLE]: {
    id: ItemId.RUPEE_PURPLE,
    name: 'ç´«ãƒ«ãƒ”ãƒ¼',
    description: '50ãƒ«ãƒ”ãƒ¼ã®ä¾¡å€¤ãŒã‚ã‚‹',
    icon: 'ğŸ’œ',
    stackable: true,
    maxStack: 999,
    usable: false,
    equipable: false,
  },
  [ItemId.RUPEE_SILVER]: {
    id: ItemId.RUPEE_SILVER,
    name: 'éŠ€ãƒ«ãƒ”ãƒ¼',
    description: '100ãƒ«ãƒ”ãƒ¼ã®ä¾¡å€¤ãŒã‚ã‚‹',
    icon: 'ğŸ¤',
    stackable: true,
    maxStack: 999,
    usable: false,
    equipable: false,
  },
  [ItemId.RUPEE_GOLD]: {
    id: ItemId.RUPEE_GOLD,
    name: 'é‡‘ãƒ«ãƒ”ãƒ¼',
    description: '200ãƒ«ãƒ”ãƒ¼ã®ä¾¡å€¤ãŒã‚ã‚‹',
    icon: 'ğŸ’›',
    stackable: true,
    maxStack: 999,
    usable: false,
    equipable: false,
  },
};

// ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªã‚¢ã‚¤ãƒ†ãƒ 
export interface InventoryItem {
  itemId: ItemId;
  quantity: number;
}

// åˆæœŸã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª
export const INITIAL_INVENTORY: InventoryItem[] = [
  { itemId: ItemId.SWORD, quantity: 1 },
  { itemId: ItemId.SHIELD, quantity: 1 },
];

// ãƒ‰ãƒ­ãƒƒãƒ—ã‚¢ã‚¤ãƒ†ãƒ è¨­å®š
export interface ItemDrop {
  itemId: ItemId;
  chance: number; // 0-1
  minQuantity: number;
  maxQuantity: number;
}

// æ•µã®ãƒ‰ãƒ­ãƒƒãƒ—ãƒ†ãƒ¼ãƒ–ãƒ«
export const ENEMY_DROPS: Record<string, ItemDrop[]> = {
  slime: [
    { itemId: ItemId.MAGIC_JAR, chance: 0.1, minQuantity: 1, maxQuantity: 1 },
  ],
  skeleton: [
    { itemId: ItemId.BOMB, chance: 0.2, minQuantity: 1, maxQuantity: 3 },
  ],
  boss: [
    { itemId: ItemId.HEART_CONTAINER, chance: 1.0, minQuantity: 1, maxQuantity: 1 },
  ],
};
