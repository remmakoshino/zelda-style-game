# Legend of Adventure 〜時を超える勇者〜

ゼルダの伝説 時のオカリナにインスパイアされた3Dアクションアドベンチャーゲームです。

## 🎮 プレイ

**[ゲームをプレイする](https://your-username.github.io/zelda-style-game/)**

## ✨ 特徴

- **3D箱庭探索**: 広大なフィールドを自由に探索
- **アクション戦闘**: 剣での攻撃、盾での防御、ローリング回避
- **マルチデバイス対応**: PC、スマートフォン、タブレットに対応
- **セーブシステム**: LocalStorageを使用した複数スロットのセーブ機能
- **NPCとの会話**: ストーリーを進めるためのダイアログシステム
- **🌅 昼夜システム**: リアルタイムで変化する時間帯（夜明け・朝・昼・午後・夕暮れ・夜）
- **🏛️ ダンジョン探索**: 水の神殿を含む複数のダンジョン
- **👹 多彩な敵キャラ**: 8種類以上の個性的な敵が登場

## 🌅 昼夜システム

ゲーム内の時間はリアルタイムで進行し、6つの時間帯があります：

| 時間帯 | ゲーム内時刻 | 環境効果 |
|--------|-------------|---------|
| 🌅 夜明け (Dawn) | 5:00 - 7:00 | 霧がかった薄明かり |
| ☀️ 朝 (Morning) | 7:00 - 12:00 | 明るく爽やかな光 |
| 🌞 昼 (Noon) | 12:00 - 15:00 | 最も明るい時間帯 |
| 🌇 午後 (Afternoon) | 15:00 - 18:00 | オレンジがかった光 |
| 🌆 夕暮れ (Dusk) | 18:00 - 20:00 | 赤みを帯びた空 |
| 🌙 夜 (Night) | 20:00 - 5:00 | 暗闘、ゴーストが出現 |

**夜のみ出現する敵**: ゴースト（Ghost）は夜間のみフィールドに出現します。

## 🎯 操作方法

### PC（キーボード＆マウス）

#### 移動・カメラ操作

| キー | アクション |
|------|----------|
| W / ↑ | 前に移動 |
| S / ↓ | 後ろに移動 |
| A / ← | 左に移動 |
| D / → | 右に移動 |
| マウス移動 | カメラ回転 |
| マウス中ボタンドラッグ | カメラ回転（代替） |
| マウスホイール | ズームイン/アウト |

#### 戦闘アクション

| キー | アクション |
|------|----------|
| マウス左クリック / Z | 剣で攻撃 |
| マウス右クリック / X | 盾で防御 |
| Shift | ローリング回避 |
| Q | ターゲットロック（敵にフォーカス） |

#### ジャンプ・インタラクション

| キー | アクション |
|------|----------|
| スペース | ジャンプ |
| E | 話す / 調べる / 扉を開ける |
| F | アイテムを拾う |

#### サブアイテム使用

| キー | アクション |
|------|----------|
| 1 | サブアイテムスロット1（弓矢） |
| 2 | サブアイテムスロット2（爆弾） |
| 3 | サブアイテムスロット3（ブーメラン） |
| 4 | サブアイテムスロット4（フックショット） |
| 5 | サブアイテムスロット5 |
| C | サブアイテムを使用 |

#### システム

| キー | アクション |
|------|----------|
| ESC / P | ポーズメニュー |
| I | インベントリを開く |
| M | マップを開く |

### スマートフォン / タブレット（タッチ操作）

#### 移動

- **左側のバーチャルジョイスティック**: 任意の方向に移動
  - ジョイスティックを傾ける強さで歩き/走りが変化

#### カメラ操作

- **右半分の画面をスワイプ**: カメラを回転
  - 左右スワイプ: 水平回転
  - 上下スワイプ: 垂直回転
- **2本指でピンチ**: ズームイン/アウト

#### アクションボタン（画面右下）

| ボタン | アクション |
|--------|----------|
| ⚔️ 剣ボタン | 攻撃 |
| 🛡️ 盾ボタン | 防御（長押し） |
| ⬆️ Aボタン | ジャンプ |
| 🔄 Bボタン | ローリング回避 |
| 💬 会話ボタン | 話す / 調べる（NPCや宝箱の近くで表示） |

#### サブアイテム（画面上部）

- **アイテムスロットをタップ**: 装備中のサブアイテムを切り替え
- **Cボタン**: サブアイテムを使用

### コントローラー対応（Xbox / PlayStation）

| ボタン | アクション |
|--------|----------|
| 左スティック | 移動 |
| 右スティック | カメラ回転 |
| A / × | ジャンプ |
| B / ○ | ローリング回避 |
| X / □ | 攻撃 |
| Y / △ | サブアイテム使用 |
| LB / L1 | ターゲットロック |
| RB / R1 | 防御 |
| LT / L2 | ズームアウト |
| RT / R2 | ズームイン |
| Start | ポーズ |
| Select | マップ |

## 🛠️ 技術スタック

- **フロントエンド**: React 18+ with TypeScript
- **3Dエンジン**: Three.js with @react-three/fiber
- **状態管理**: Zustand
- **ビルドツール**: Vite
- **デプロイ**: GitHub Pages with GitHub Actions

## 🚀 開発環境のセットアップ

### 必要条件

- Node.js 18.0以上
- npm 9.0以上

### インストール

```bash
# リポジトリをクローン
git clone https://github.com/your-username/zelda-style-game.git
cd zelda-style-game

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

ブラウザで `http://localhost:5173` を開いてゲームをプレイできます。

### ビルド

```bash
# 本番用ビルド
npm run build

# ビルド結果をプレビュー
npm run preview
```

## 📁 プロジェクト構成

```
zelda-style-game/
├── .github/
│   └── workflows/
│       └── deploy.yml          # GitHub Actions設定
├── public/                      # 静的ファイル
├── src/
│   ├── components/
│   │   ├── Game.tsx            # メインゲームコンポーネント
│   │   ├── TitleScreen.tsx     # タイトル画面
│   │   ├── UI/
│   │   │   ├── HUD.tsx         # ヘッドアップディスプレイ
│   │   │   └── Controls.tsx    # 仮想コントローラー
│   │   └── World/
│   │       ├── Player.tsx      # プレイヤー
│   │       ├── Enemy.tsx       # 敵キャラ
│   │       ├── NPC.tsx         # NPC
│   │       ├── Environment.tsx # 環境オブジェクト
│   │       └── CameraController.tsx # カメラ制御
│   ├── stores/
│   │   └── gameStore.ts        # ゲーム状態管理
│   ├── systems/
│   │   └── SaveSystem.ts       # セーブシステム
│   ├── hooks/
│   │   ├── useInputManager.ts  # 入力管理
│   │   └── useDeviceDetection.ts # デバイス検出
│   ├── data/
│   │   ├── gameConfig.ts       # ゲーム設定
│   │   ├── levelData.ts        # レベルデータ
│   │   └── itemsData.ts        # アイテムデータ
│   ├── App.tsx
│   ├── App.css
│   ├── main.tsx
│   └── index.css
├── package.json
├── tsconfig.json
├── vite.config.ts
└── README.md
```

## 🎨 ゲームシステム

### プレイヤー

- **体力（ハート）**: 初期は3つ（6HP）
- **魔力**: 魔法アイテム使用に必要
- **装備**: 剣、盾、サブアイテム
- **ルピー**: 敵を倒すと獲得、ショップでアイテム購入に使用

### 👹 敵キャラクター

| 敵 | HP | 攻撃力 | 特徴 |
|----|-----|-------|------|
| 🟢 スライム (Slime) | 2 | 1 | 最も基本的な敵。動きは遅いが群れで襲ってくる |
| 💀 スケルトン (Skeleton) | 4 | 2 | 剣を持った骸骨。近接攻撃が得意 |
| 🦎 リザルフォス (Lizalfos) | 5 | 2 | 俊敏なトカゲ戦士。素早い動きで攻撃してくる |
| ⚔️ スタルフォス (Stalfos) | 8 | 3 | 上級骸骨戦士。強力な一撃に注意 |
| ❄️ フリザド (Frizzard) | 4 | 2 | 氷の精霊。触れると凍結することも |
| 🌱 デクババ (Deku Baba) | 3 | 2 | 植物の敵。地面から突然襲いかかる |
| 🦇 キース (Keese) | 1 | 1 | 空を飛ぶコウモリ。弓矢で狙い撃ちしよう |
| 👻 ゴースト (Ghost) | 6 | 2 | **夜のみ出現**する幽霊。ルピーをたくさんドロップ |

### 🎒 アイテム

#### 装備アイテム

| アイテム | 説明 |
|---------|------|
| ⚔️ 剣 | 基本武器。連続攻撃でコンボが可能 |
| 🛡️ 盾 | 敵の攻撃を防御。タイミングよく使えばパリィも |

#### サブアイテム

| アイテム | 消費 | 説明 |
|---------|------|------|
| 🏹 弓矢 | 矢1本 | 遠距離攻撃。ヘッドショットでダメージ2倍 |
| 🔥 炎の矢 | 矢1本+魔力 | 敵を燃やす。草や木も燃える |
| ❄️ 氷の矢 | 矢1本+魔力 | 敵を凍結させる。水面を凍らせることも |
| 💡 光の矢 | 矢1本+魔力 | ゴーストに特効。闇を払う |
| 💣 爆弾 | 1個 | 壁を壊したり、複数の敵にダメージ |
| 🪃 ブーメラン | - | 敵をスタンさせる。アイテムを引き寄せる |
| 🪝 フックショット | - | 遠くの的に飛びつく。特定のポイントに移動可能 |
| 🔥 魔法のロッド | 魔力 | 炎を放つ魔法の杖 |
| 🏮 ランタン | 油 | 暗い場所を照らす。夜間探索に便利 |

#### 回復アイテム

| アイテム | 効果 |
|---------|------|
| ❤️ ハートのかけら | HP +1 回復 |
| 💖 ハートの器 | 最大HP +2 増加 |
| 🧪 赤いポーション | HP 完全回復 |
| 🧪 緑のポーション | 魔力完全回復 |
| 🧪 青いポーション | HP・魔力両方回復 |
| 🧚 妖精 | 死亡時に自動復活（HP 6回復） |

#### ダンジョンアイテム

| アイテム | 効果 |
|---------|------|
| 🗝️ 小さな鍵 | 通常の扉を開ける |
| 🔑 ボス鍵 | ボス部屋の扉を開ける |
| 🗺️ ダンジョンマップ | フロア全体を表示 |
| 🧭 コンパス | 宝箱とボスの位置を表示 |

### 🏛️ ダンジョン

#### 始まりの洞窟

- **難易度**: ★☆☆☆☆
- **敵**: スケルトン
- チュートリアル的なダンジョン

#### 水の神殿

- **難易度**: ★★★☆☆
- **敵**: フリザド、リザルフォス、キース、スケルトン
- **特徴**: 
  - 水位を変えるスイッチパズル
  - フックショットを使った移動
  - 氷の矢が手に入る
- **ボス鍵**: 中央の水路エリアに隠されている

## 🔧 カスタマイズ

### ゲーム設定の変更

`src/data/gameConfig.ts` でゲームのパラメータを調整できます：

```typescript
export const GAME_CONFIG = {
  player: {
    moveSpeed: 5,      // 移動速度
    jumpForce: 8,      // ジャンプ力
    maxHealth: 6,      // 最大体力
    // ...
  },
  // ...
};
```

### レベルデザイン

`src/data/levelData.ts` でマップのオブジェクト配置を編集できます。

## 📱 対応ブラウザ

- Chrome（最新版）
- Safari（最新版）
- Firefox（最新版）
- Edge（最新版）
- iOS Safari
- Android Chrome

## 🚀 デプロイ

GitHub Actionsにより、`main`ブランチへのプッシュで自動的にGitHub Pagesにデプロイされます。

### 手動デプロイ

1. GitHubリポジトリの Settings > Pages を開く
2. Source を「GitHub Actions」に設定
3. `main`ブランチにプッシュ

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

---

## 🙏 クレジット

- ゲームシステムは『ゼルダの伝説 時のオカリナ』にインスパイアされています
- このゲームはファンメイドのオリジナル作品です
- 任天堂の公式作品ではありません

## 📞 お問い合わせ

バグ報告や機能リクエストはGitHub Issuesでお願いします。

---

**楽しんでプレイしてください！ ⚔️🛡️**
